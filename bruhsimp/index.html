<html>
	<head>
		<title>BRUHsimp</title>
		<meta name="charset" content="utf-8">
		<meta name="viewport" content="width=device-width">
		<link href="alge.css" rel="stylesheet">
		<script src="bruhsimp.js"></script>
	</head>
	<body>
		
		<div id="logo">
			<span
				id="alge">Alge</span><span
				id="bruh">BRUH</span><span
				id="simp">simp</span><span
				id="lifier">lifier
			</span>
		</div>
		
		<div id="iocont">
			<!--textarea class="inp" rows="1" placeholder="Expression"></textarea>
			## To be generated by script ##
			<div class="out"></div--->
		</div>
		<div id="btncont">
			<div id="addbtn">+</div>
			<div id="hlpbtn">?</div>
		</div>
		
		<div id="halp" class="hidden">
			This is a simpLE Algebra Simplifier that can perform basic algebraic operations.
			<br><br>
			Examples:
			<table id="examples">
				<tr>
					<th>Input</th>
					<th>Output</th>
				</tr>
			</table>
			<br>
			Supported characters:
			<table id="characters">
				<tr>
					<td>English letters</td>
					<td>A-Z, a-z</td>
				</tr>
				<tr>
					<td>Digits</td>
					<td>0-9</td>
				</tr>
				<tr>
					<td>Arithmetic operators</td>
					<td>+ - * / ^</td>
				</tr>
				<tr>
					<td>Parenthesis</td>
					<td>( )</td>
				</tr>
			</table>
			<br>
			Notes:
			<ul id="notes">
				<li>Each letter (case sensitive) is counted as a variable, so multicharacter variable names aren't supported</li>
				<li>Variable names can be subscripted with numbers to name multiple variables with the same letter. Like, x0-x1 >>> x<sub>0</sub>-x<sub>1</sub></li>
			</ul>
		</div>
		
		<script>
			
			const Expr = [
				"(a+b)^2",
				"2x+y-(y/xz)^2",
				"(y/xz)^2",
				"xyz/xyz",
				"xyz/(xyz)",
				"2^(x+10)",
				"(x^a)^b",
				"(x^2)^b",
				"(x^a)^2",
				"(a^2*(-b)^3*-c^5)^x",
				"(x^(1+y))^z"
			];
			
			const Zero = [
				"Abyss looks back ☠️",
				"Limitless void 👽",
				"There's nuthn 'ere 🧐",
				"I'm tired of all these 0s bruh 🤖"
			];
			
			const Spce = [
				"Spacing out much? 😶<br>Drink some water<sup>TM</sup>",
				"Abyss looks back ☠️",
				"Limitless void 👽",
				"You need therapy! 🤨",
				"You need Jesus! 😇",
				"I 🤔 there 2+2 I am",
				"42"
			];
			
			addinp();
			createExamples();
			addbtn.onclick = addinp;
			hlpbtn.onclick = sandhalp;
			
			
			function oninp() {
				let xpr = this.value;
				let ans;
				
				if (!xpr)
					ans = "";
				else if (xpr === ""+xpr.match(/\s{2,}/))
					ans = randElmn(Spce);
				else if (ans = xpr.match(/[^\w\s\(\)\+\-\*\/\^]/))
					ans = '<span class="invalid">Unsupported character: "'+ans+'"</span>';
				else {
					this.rows = 1 + (xpr.match(/\n/g) || []).length;
					ans = bruh(xpr);
					if (ans === "0" && Math.random() < 0.2)
						ans = randElmn(Zero);
				}
				
				this.nextElementSibling.innerHTML = ans;
				
			};
			
			function addinp() {
				let tx = document.createElement("textarea");
				let dv = document.createElement("div");
				tx.className = "inp";
				dv.className = "out";
				
				tx.rows = "1";
				tx.placeholder = "Expression, like "+randElmn(Expr);
				tx.oninput = oninp;
				
				iocont.appendChild(tx);
				iocont.appendChild(dv);
			}
			
			function randElmn(A) {
				return A[Math.floor(Math.random()*A.length)];
			}
			
			function createExamples() {
				ih = "";
				for (let xpr of Expr)
					ih += "<tr><td>"+xpr+"</td><td>"+bruh(xpr)+"</td></tr>";
					
				examples.innerHTML += ih;
			}
			
			function sandhalp() {
				halp.classList.toggle("hidden");
			}
			
			
			
			/*
			TODO
			Disable oninput & set onchange - to prevent overload in lengthy expressions
			Step bruh
			Save output in variable
			
			*/
		</script>
	</body>
</html>